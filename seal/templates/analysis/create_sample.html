{% extends 'base.html' %}

{% block static %}
    <link rel="stylesheet" href="{{ url_for('static', filename='jquery-ui/jquery-ui.css') }}">

    <link href="{{ url_for('static', filename='lou-multi-select/css/multi-select.css') }}" media="screen" rel="stylesheet" type="text/css">
    
    <link href="{{ url_for('static', filename='seal/analysis/create_sample.css') }}" rel="stylesheet" type="text/css">
{% endblock %}

{% block content %}
    {% include 'includes/sidebar.j2' %}
    <div class="w3-main">
        <div class="w3-padding w3-mobile">
            <div class="w3-card w3-padding w3-mobile">
                <div class="w3-container w3-border-bottom">
                    <h3>Upload A New Sample</h3>
                </div>

                <form class="w3-container"  action="" method="post" enctype="multipart/form-data">
                    {{ form.hidden_tag() }}
                    <div class="w3-row w3-section">
                        <div class="w3-col w3-display-container w3-text-flat-green-sea w3-margin-right" style="width:190px">
                            <i class="w3-xxlarge fas fa-user-tag"></i> {{ form.samplename.label(required=form.samplename.flags.required, class="w3-display-right", style="font-weight: bold;") }}
                        </div>
                        <div class="w3-rest">
                            {% if form.samplename.errors %}
                                {{ form.samplename(class="w3-input w3-border w3-border-red") }}
                                <div class="w3-small w3-text-flat-alizarin">
                                    {% for error in form.samplename.errors %}
                                        <i class="fas fa-exclamation-circle"></i> {{ error }}
                                    {% endfor %}
                                </div>
                            {% else %}
                                {{ form.samplename(class="w3-input w3-border") }}
                            {% endif %}
                        </div>
                    </div>
                    <div class="w3-row w3-section">
                        <div class="w3-col w3-display-container w3-text-flat-green-sea w3-margin" style="width:80px">
                            {{ form.index(class="w3-check w3-display-left") }} {{ form.index.label(class="w3-display-right", style="font-weight: bold;") }}
                        </div>
                        <div class="w3-col w3-display-container w3-text-flat-green-sea w3-margin" style="width:100px">
                            {{ form.affected(class="w3-check w3-display-left") }} {{ form.affected.label(class="w3-display-right", style="font-weight: bold;") }}
                        </div>
                    </div>

                    <div class="w3-row w3-section">
                        <div class="w3-col w3-display-container w3-text-flat-green-sea w3-margin-right" style="width:190px"><i class="w3-xxlarge fas fa-users"></i> {{ form.family.label(class="w3-display-right", style="font-weight: bold;")}}</div>
                        <div class="w3-rest">
                            {% if form.family.errors %}
                                {{ form.family(class="w3-input w3-border w3-border-red") }}
                                <div class="w3-small w3-text-flat-alizarin">
                                    {% for error in form.family.errors %}
                                        <i class="fas fa-exclamation-circle"></i> {{ error }}
                                    {% endfor %}
                                </div>
                            {% else %}
                                {{ form.family(class="w3-input w3-border") }}
                            {% endif %}
                        </div>
                    </div>

                    <div class="w3-row w3-section">
                        <div class="w3-col w3-display-container w3-text-flat-green-sea w3-margin-right" style="width:190px"><i class="w3-xxlarge fas fa-digital-tachograph"></i> {{ form.run.label(class="w3-display-right", style="font-weight: bold;")}}</div>
                        <div class="w3-rest">
                            {% if form.run.errors %}
                                {{ form.run(class="w3-input w3-border w3-border-red") }}
                                <div class="w3-small w3-text-flat-alizarin">
                                    {% for error in form.run.errors %}
                                        <i class="fas fa-exclamation-circle"></i> {{ error }}
                                    {% endfor %}
                                </div>
                            {% else %}
                                {{ form.run(class="w3-input w3-border") }}
                            {% endif %}
                        </div>
                    </div>


                    <div class="w3-row w3-section">
                        <div class="w3-col w3-display-container w3-text-flat-green-sea w3-margin-right" style="width:190px"><i class="w3-xxlarge fas fa-filter"></i> {{ form.filter.label(class="w3-display-right", style="font-weight: bold;")}}</div>
                        <div class="w3-rest">
                            {% if form.filter.errors %}
                                {{ form.filter(class="w3-input w3-border w3-border-red") }}
                                <div class="w3-small w3-text-flat-alizarin">
                                    {% for error in form.filter.errors %}
                                        <i class="fas fa-exclamation-circle"></i> {{ error }}
                                    {% endfor %}
                                </div>
                            {% else %}
                                {{ form.filter(class="w3-input w3-border") }}
                            {% endif %}
                        </div>
                    </div>


                    <div class="w3-row w3-section">
                        <div class="w3-col w3-display-container w3-text-flat-green-sea w3-margin-right" style="width:190px"><i class="w3-xxlarge fas fa-th-list"></i> {{ form.bed.label(class="w3-display-right", style="font-weight: bold;")}}</div>
                        <div class="w3-rest">
                            {% if form.bed.errors %}
                                {{ form.bed(class="w3-input w3-border w3-border-red") }}
                                <div class="w3-small w3-text-flat-alizarin">
                                    {% for error in form.bed.errors %}
                                        <i class="fas fa-exclamation-circle"></i> {{ error }}
                                    {% endfor %}
                                </div>
                            {% else %}
                                {{ form.bed(class="w3-input w3-border") }}
                            {% endif %}
                        </div>
                    </div>

                    <div class="w3-row w3-section w3-display-container">
                        <div class="w3-middle w3-col w3-display-container w3-text-flat-green-sea w3-margin-right" style="width:190px"><i class="w3-xxlarge fas fa-users"></i> {{ form.teams.label(class="w3-display-right", style="font-weight: bold;")}}</div>
                        <div class="w3-rest">
                            {{ form.teams(id="multiSelectTeams") }}
                        </div>
                    </div>

                    <div class="w3-row w3-section">
                        <div class="w3-col w3-display-container w3-text-flat-green-sea w3-margin-right" style="width:190px"><i class="w3-xxlarge fas fa-file-alt"></i> {{ form.vcf_file.label(required=form.vcf_file.flags.required, class="w3-display-right", style="font-weight: bold;")}}</div>
                        <div class="w3-rest">
                            {% if form.vcf_file.errors %}
                                {{ form.vcf_file(class="w3-input w3-border-0 w3-text-red") }}
                                <div class="w3-small w3-text-flat-alizarin">
                                    {% for error in form.vcf_file.errors %}
                                        <i class="fas fa-exclamation-circle"></i> {{ error }}
                                    {% endfor %}
                                </div>
                            {% else %}
                                {{ form.vcf_file(class="w3-input w3-border-0") }}
                            {% endif %}
                        </div>
                    </div>

                    <div class="w3-section w3-center">
                        {{ form.submit(class="w3-button w3-flat-green-sea w3-hover-flat-turquoise") }}
                    </div>
                </form>
                <div id="result"></div>
            </div>
        </div>
    </div>
{% endblock %}


{% block script %}
    <script type="text/javascript" src="{{ url_for('static', filename='jquery-ui/jquery-ui.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='lou-multi-select/js/jquery.multi-select.js') }}"></script>
    
    <script type="text/javascript" src="{{ url_for('static', filename='seal/analysis/create_sample.js') }}"></script>
{% endblock %}
